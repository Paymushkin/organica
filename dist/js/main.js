function initMobileMenu(){var e=document.querySelector(".header__burger"),i=document.querySelector(".mobile-menu-bar__button");let s=document.querySelector(".mobile-menu");var a=document.querySelector(".mobile-menu__close");let l=document.querySelector(".header"),r=document.body;if(s){let t=()=>{s.classList.remove("mobile-menu--open"),l&&(l.style.display=""),r.style.overflow=""},o=()=>{s.classList.contains("mobile-menu--open")?t():(s.classList.add("mobile-menu--open"),l&&(l.style.display="none"),r.style.overflow="hidden")},n=(e&&e.addEventListener("click",e=>{e.stopPropagation(),o()}),i&&i.addEventListener("click",e=>{e.stopPropagation(),o()}),a&&a.addEventListener("click",e=>{e.stopPropagation(),t()}),document.querySelector(".mobile-menu__backdrop"));n&&n.addEventListener("click",e=>{e.target===n&&t()}),document.addEventListener("keydown",e=>{"Escape"===e.key&&s.classList.contains("mobile-menu--open")&&t()})}}function initModals(){let n=document.body;function i(e){e&&(e.classList.remove("is-open"),e.setAttribute("aria-hidden","true"),n.style.overflow="")}document.addEventListener("click",e=>{var t,o=e.target.closest("[data-modal-open]"),o=(o&&(o=o.getAttribute("data-modal-open"))&&(e.preventDefault(),o=o,o=document.querySelector(`[data-modal="${o}"]`))&&((t=document.querySelector(".mobile-menu"))&&t.classList.contains("mobile-menu--open")&&(t.classList.remove("mobile-menu--open"),t=document.querySelector(".header"))&&(t.style.display=""),o.classList.add("is-open"),o.setAttribute("aria-hidden","false"),n.style.overflow="hidden",t=o.querySelector(".modal-form"))&&t.classList.remove("was-validated"),e.target.closest("[data-modal-close]"));o&&(t=e.target.closest(".modal")||document.querySelector(".modal.is-open"))&&i(t)}),document.addEventListener("keydown",e=>{"Escape"===e.key&&(e=document.querySelector(".modal.is-open"))&&i(e)}),document.addEventListener("submit",e=>{var t=e.target.closest(".modal-form"),o=e.target.closest(".request-form"),o=t||o;o&&(e.preventDefault(),o.classList.add("was-validated"),o.checkValidity()?(console.log("Форма отправлена:",new FormData(o)),t&&(e=o.closest(".modal"))&&i(e),o.classList.remove("was-validated"),o.reset()):o.reportValidity())}),document.addEventListener("change",e=>{var t,o,e=e.target;"checkbox"===e.type&&(o=e.closest(".modal-form"),t=e.closest(".request-form"),o=o||t)&&e.checked&&o.classList.contains("was-validated")&&o.checkValidity()&&o.classList.remove("was-validated")})}function initTabs(){document.querySelectorAll("[data-tabs]").forEach(e=>{let i=e.querySelectorAll(".tabs__tab"),s=e.querySelectorAll(".tabs__panel");i.forEach(n=>{n.addEventListener("click",()=>{let t=n.getAttribute("data-tab"),o=(i.forEach(e=>e.classList.toggle("is-active",e===n)),s.forEach(e=>{e.classList.toggle("is-active",e.getAttribute("data-tab-panel")===t)}),e.querySelector(`.tabs__panel[data-tab-panel="${t}"]`));window.newsSlidersRefresh&&setTimeout(()=>{if(window.newsSlidersRefresh(),o){let e=o.querySelectorAll(".news__slider .swiper");e.forEach(e=>{e=window.newsSwiperInstances&&window.newsSwiperInstances.get(e);e&&(e.update(),e.updateAutoHeight(200))}),requestAnimationFrame(()=>{e.forEach(e=>{e=window.newsSwiperInstances&&window.newsSwiperInstances.get(e);e&&e.updateAutoHeight(200)})})}},100)})})})}function initSmoothScroll(){document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();e=this.getAttribute("href").substring(1),e=document.getElementById(e);e&&e.scrollIntoView({behavior:"smooth",block:"start"})})})}function initLazyLoading(){var e=document.querySelectorAll("img[data-src]");if("IntersectionObserver"in window){let o=new IntersectionObserver((e,t)=>{e.forEach(e=>{e.isIntersecting&&((e=e.target).src=e.dataset.src,e.classList.remove("lazy"),o.unobserve(e))})});e.forEach(e=>o.observe(e))}else e.forEach(e=>{e.src=e.dataset.src})}function initHeaderScrollFill(){let o=document.querySelector(".header");if(o){let e=!1,t=()=>{20<=(window.scrollY||window.pageYOffset||document.documentElement.scrollTop||0)?o.classList.add("header--scrolled"):o.classList.remove("header--scrolled"),e=!1};t(),window.addEventListener("scroll",()=>{e||(window.requestAnimationFrame(t),e=!0)},{passive:!0})}}function initMobileMenuBar(){let o=document.querySelector(".mobile-menu-bar");if(o&&!(767<window.innerWidth)){let e=()=>{(window.scrollY||window.pageYOffset||document.documentElement.scrollTop||0)<50?o.classList.remove("mobile-menu-bar--visible"):o.classList.add("mobile-menu-bar--visible")},t=()=>{0===(window.scrollY||window.pageYOffset||document.documentElement.scrollTop||0)&&o.classList.remove("mobile-menu-bar--visible")};e(),window.addEventListener("scroll",()=>{e(),t()},{passive:!0}),window.addEventListener("scrollend",t,{passive:!0}),window.addEventListener("resize",utils.debounce(()=>{767<window.innerWidth?o.classList.remove("mobile-menu-bar--visible"):e()},150))}}function initFaqDetailsAnimation(){var e=document.querySelectorAll(".faq details");e.length&&e.forEach(o=>{var e=o.querySelector("summary");let n=o.querySelector(".faq__answer");e&&n&&(o.open?(n.style.maxHeight=n.scrollHeight+"px",n.style.opacity="1"):(n.style.maxHeight="0px",n.style.opacity="0"),e.addEventListener("click",e=>{if(e.preventDefault(),o.open){n.style.maxHeight=n.scrollHeight+"px",n.style.opacity="1",requestAnimationFrame(()=>{n.style.maxHeight="0px",n.style.opacity="0"});let t=e=>{"max-height"===e.propertyName&&(n.removeEventListener("transitionend",t),o.open=!1)};n.addEventListener("transitionend",t)}else{o.open=!0,n.style.maxHeight="0px",n.style.opacity="0",requestAnimationFrame(()=>{n.style.maxHeight=n.scrollHeight+"px",n.style.opacity="1"});let t=e=>{"max-height"===e.propertyName&&(n.removeEventListener("transitionend",t),n.style.maxHeight=n.scrollHeight+"px")};n.addEventListener("transitionend",t)}}))})}document.addEventListener("DOMContentLoaded",function(){console.log("Сайт загружен"),initMobileMenu(),initMobileMenuBar(),initSmoothScroll(),initLazyLoading(),initTabs(),initHeaderScrollFill(),initModals(),initFaqDetailsAnimation()});let utils={debounce:function(t,o){let n;return function(...e){clearTimeout(n),n=setTimeout(()=>{clearTimeout(n),t(...e)},o)}},throttle:function(t,o){let n;return function(){var e=arguments;n||(t.apply(this,e),n=!0,setTimeout(()=>n=!1,o))}}};